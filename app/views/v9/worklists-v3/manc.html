{% extends "layout-v2.html" %}

{% block pageScripts %}

<script type="text/javascript">

(function( $ ) { 
    $.fn.tabbedTable = function() { 
        this.filter( "table" ).each(function() {
            var tabs = [];
            var table = $(this);
            var randomId = 'tabbedTable-' + Math.floor((Math.random() * 100000) + 1);
          
            // wrap our table
            table.wrap('<div class="tabbedTable-wrapper">');
          
            // add an id
            table.addClass(randomId);
          
            // add a style tag to store visible / invisible columns
            $('body').append('<style class="'+ randomId +'-style"></style>');
          
            var wrapper = table.parent('.tabbedTable-wrapper');
          
            // Find table headers to hide
            $('th', table).each(function(i) {
              var tabName = $(this).attr('data-tabbedTable');
              if(tabName !== undefined) {
                var columnNumber = i + 1;
                // hide the columns
                // $('th:nth-child('+ columnNumber +'), td:nth-child('+ columnNumber +')', table).hide();
                
                // add the tabname to 
                if(tabs.indexOf(tabName) ==  -1) {
                  tabs.push(tabName);
                } 
              }
            });
          
            // add buttons
            var buttons = '';
            for (t = 0; t < tabs.length; t++) { 
                buttons += '<label class="tabbedTable-label">' + tabs[t] +  '</label>';
                
            }
            wrapper.prepend('<div class="tabbedTable-labels">' + buttons + '</div>');
          
            // click events
            $('.tabbedTable-label', wrapper).on('click', function(){
              $('.tabbedTable-label', wrapper).removeClass('tabbedTable-label--active');
              $(this).addClass('tabbedTable-label--active');
              var tabSelected = $(this).text();
              var styleContent = '';
              $('th', table).each(function(i){
                if($(this).attr('data-tabbedTable') !== undefined) {
                  // header index
                  var columnNumber = i + 1;

                  if(tabSelected == $(this).attr('data-tabbedTable')) {
                    // show columns
                    // $('th:nth-child('+ columnNumber +'), td:nth-child('+ columnNumber +')', table).show();
                    styleContent += '.'+ randomId +' th:nth-child(' + columnNumber + ') { display: table-cell; } ';
                    styleContent += '.'+ randomId +' td:nth-child(' + columnNumber + ') { display: table-cell; } ';
                  }
                  else {
                    // show columns
                    // $('th:nth-child('+ columnNumber +'), td:nth-child('+ columnNumber +')', table).hide(); 
                    styleContent += '.'+ randomId +' th:nth-child(' + columnNumber + ') { display: none; } ';
                    styleContent += '.'+ randomId +' td:nth-child(' + columnNumber + ') { display: none; } ';                 
                  }                  
                }
              });
              
              //var styleContent = '.'+ randomId +' td:nth-child(2) { background: red; }';
              
              // update <style> tag
              $('.' + randomId +'-style').html(styleContent);
            });
          
            // click first
            $('.tabbedTable-labels label:first', wrapper).click();
        }); 
        return this; 
    }; 
}( jQuery ));
 
// Usage example:
$( ".tabbedTable" ).tabbedTable();
</script>

{% endblock %}
{% block pageTitle %}
  NHS Cervical Screening
{% endblock %}

{% block header %}
  {% include '../components/header.html' %}
{% endblock %}

{% block content %}

{{ backLink({
  "href": "results",
  "text": "Go back to results"
}) }}

<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">
 
  <h1 class="nhsuk-heading-l">Manchester</h1>
 <p> The following results show the manual matches between the lab and system patient details.
 <br>
  Compare the patient details provided by the labs against those held on the system.</p>
</div>
</div>

<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-one-half">
    <div class="nhsuk-panel">
      <h3 class="nhsuk-panel__label">Contact details</h3>

      <dl class="nhsuk-summary-list nhsuk-u-padding-top-3  nhsuk-summary-list--no-border">

        <div class="nhsuk-summary-list__row">
          <dt class="nhsuk-summary-list__key">
            Phone number
          </dt>
          <dd class="nhsuk-summary-list__value">
           +44 1624 937 363
          </dd>

        </div>

        <div class="nhsuk-summary-list__row">
          <dt class="nhsuk-summary-list__key">
           Email address
          </dt>
          <dd class="nhsuk-summary-list__value">
            manctesting@labs.com
          </dd>

        </div>

      </dl>
    </div>
  </div>
  <br>
  <br>

<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">

<table class="tabbedTable tableBorder">
  <tr>
   <th class="ten"data-tabbedTable="To process">Transfer number</th>
    <th class="ten"data-tabbedTable="To process">Status </th>
    <th class="ten"data-tabbedTable="To process">Transfer date </th>
    <th class="ten"data-tabbedTable="To process">Transfer time </th>
    <th class="ten"data-tabbedTable="To process">To action</th>
    <th class="ten"data-tabbedTable="To process"></th>
 </th>
    <th class="ten"data-tabbedTable="To query">Transfer number</th>
    <th class="ten"data-tabbedTable="To query">Status</th>
    <th class="ten"data-tabbedTable="To query">Transfer date </th>
    <th class="ten"data-tabbedTable="To query">Transfer time </th>
    <th class="ten"data-tabbedTable="To query">To action</th>
    <th class="ten"data-tabbedTable="To query"></th>
 </th>
    <th class="ten"data-tabbedTable="To check">Transfer number</th>
    <th class="ten"data-tabbedTable="To check">Transfer date </th>
    <th class="ten"data-tabbedTable="To check">Transfer time </th>
    <th class="ten"data-tabbedTable="To check">To action </th>
    <th class="ten"data-tabbedTable="To check"></th>
 </th>
  </tr>
<tr>
<!-- TO PROCESS -->
<td>03368</td> <td><span class="nhsuk-tag nhsuk-tag--grey nhsuk-u-margin-bottom-2">Not started</span></td> <td>06-02-2020</td> <td>11.22am</td> <td>4</td> <td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href="manc-p1">Start matching</a></td>
<!-- TO QUERY -->
<td>03756</td> <td><span class="nhsuk-tag nhsuk-tag--orange nhsuk-u-margin-bottom-2">Non-match</span></td> <td>05-02-2020</td> <td>10.53am</td> <td>2</td> <td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>View non-match</a></td>
<!-- TO CHECK -->
<td>03475</td> <td>04-02-2020</td> <td>9.41am</td> <td>4</td> <td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>View matched</a></td>  



<tr>
<!-- TO PROCESS -->
<td>03369</td> <td><span class="nhsuk-tag nhsuk-tag--grey nhsuk-u-margin-bottom-2">Not started</span></td> <td>06-02-2020</td> <td>5.27pm</td> <td>20</td> <td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>Start matching</a>
<!-- TO QUERY -->
<td>03757</td> <td><span class="nhsuk-tag nhsuk-tag--red nhsuk-u-margin-bottom-2">File error</span></td> <td>05-02-2020</td> <td>11.26am</td> <td>-</td> <td></td>
<!-- TO CHECK -->
<td>03476</td>  <td>04-02-2020</td> <td>8.44am</td> <td>7</td> <td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>View matched</a></td>  



<tr>
<!-- TO PROCESS -->
<td>03370</td>  <td><span class="nhsuk-tag nhsuk-tag--red nhsuk-u-margin-bottom-2">checker rejected</span></td> <td>06-02-2020</td> <td>9.23am</td> <td>2</td><td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>Start matching</a></td>
<!-- TO QUERY -->
<td>03758</td> <td><span class="nhsuk-tag nhsuk-tag--orange nhsuk-u-margin-bottom-2">Non-match</span></td> <td>05-02-2020</td> <td>10.45am</td> <td>1</td><td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>View non-match</a></td>
<!-- TO CHECK -->
<td>03477</td>  <td>04-02-2020</td> <td>5.01pm</td> <td>34</td> <td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>View matched</a></td> 



<tr>
<!-- TO PROCESS -->
<td>03371</td> <td><span class="nhsuk-tag nhsuk-tag--grey nhsuk-u-margin-bottom-2">Not started</span></td> <td>06-02-2020</td> <td>9.02am</td> <td>38</td><td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>Start matching</a></td>
<!-- TO QUERY -->
<td>03759</td> <td><span class="nhsuk-tag nhsuk-tag--orange nhsuk-u-margin-bottom-2">Non-match</span></td> <td>05-02-2020</td> <td>10.59am</td> <td>3</td><td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>View non-match</a></td>
<!-- TO CHECK -->
<td>03478</td>  <td>04-02-2020</td> <td>11.52am</td> <td>75</td> <td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>View matched</a></td>  



<tr>
<!-- TO PROCESS -->
<td>03372</td> <td><span class="nhsuk-tag nhsuk-tag--grey nhsuk-u-margin-bottom-2">Not started</span></td> <td>06-02-2020</td> <td>8.38am</td> <td>45</td><td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>Start matching</a></td>
<!-- TO QUERY -->
<td>03760</td> <td><span class="nhsuk-tag nhsuk-tag--red nhsuk-u-margin-bottom-2">File error</span></td> <td>05-02-2020</td> <td>9.59am</td> <td>-</td><td></td>
<!-- TO CHECK -->
<td>03479</td>  <td>04-02-2020</td> <td>11.27am</td> <td>63</td> <td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>View matched</a></td> 
</tr>



<tr>
<!-- TO PROCESS -->
<td>03372</td> <td><span class="nhsuk-tag nhsuk-tag--grey nhsuk-u-margin-bottom-2">Not started</span></td> <td>06-02-2020</td> <td>8.38am</td> <td>34</td><td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>Start matching</a></td>
<!-- TO QUERY -->
<td>03760</td> <td><span class="nhsuk-tag nhsuk-tag--orange nhsuk-u-margin-bottom-2">Non-match</span></td> <td>05-02-2020</td> <td>9.59am</td> <td>1</td><td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>View non-match</a></td>
<!-- TO CHECK -->
<td>03479</td>  <td>04-02-2020</td> <td>11.27am</td> <td>63</td> <td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>View matched</a></td> 
</tr>




<tr>
<!-- TO PROCESS -->
<td>03375</td> <td><span class="nhsuk-tag nhsuk-tag--red nhsuk-u-margin-bottom-2">checker rejected</span></td> <td>06-02-2020</td> <td>3.34pm</td> <td>1</td><td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>Start matching</a></td>
<!-- TO QUERY -->
<td>03762</td> <td><span class="nhsuk-tag nhsuk-tag--red nhsuk-u-margin-bottom-2">File error</span></td>  <td>05-02-2020</td> <td>8.38am</td> <td>-</td><td></td>
<!-- TO CHECK -->
<td>03481</td> <td>04-02-2020</td> <td>9.34am</td> <td>35</td> <td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>View matched</a></td> 



<tr>
<!-- TO PROCESS -->
<td>03376</td> <td><span class="nhsuk-tag nhsuk-tag--red nhsuk-u-margin-bottom-2">checker rejected</span></td> <td>06-02-2020</td> <td>2.09pm</td> <td>2</td><td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>Start matching</a></td>
<!-- TO QUERY -->
<td>03763</td> <td><span class="nhsuk-tag nhsuk-tag--orange nhsuk-u-margin-bottom-2">Non-match</span></td> <td>05-02-2020</td> <td>11.25am</td> <td>2</td><td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>View non-match</a></td>
<!-- TO CHECK -->
<td>03482</td>  <td>04-02-2020</td> <td>9.19am</td> <td>93</td> <td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>View matched</a></td> 



<tr>
<!-- TO PROCESS -->
<td>03378</td> <td><span class="nhsuk-tag nhsuk-tag--grey nhsuk-u-margin-bottom-2">not started</span></td> <td>06-02-2020</td> <td>8.38am</td> <td>44</td><td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>Start matching</a></td>
<!-- TO QUERY -->
<td>03764</td> <td><span class="nhsuk-tag nhsuk-tag--orange nhsuk-u-margin-bottom-2">Non-match</span></td> <td>05-02-2020</td> <td>9.34am</td> <td>4</td><td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>View non-match</a></td>
<!-- TO CHECK -->
<td>03483</td>  <td>04-02-2020</td> <td>2.09pm</td> <td>46</td> <td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>View matched</a></td>  


<tr>
<!-- TO PROCESS -->
<td>03379</td> <td><span class="nhsuk-tag nhsuk-tag--grey nhsuk-u-margin-bottom-2">not started</span></td> <td>06-02-2020</td> <td>11.40am</td> <td>53</td><td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>Start matching</a></td>
<!-- TO QUERY -->
<td>03765</td> <td><span class="nhsuk-tag nhsuk-tag--orange nhsuk-u-margin-bottom-2">Non-match</span></td> <td>05-02-2020</td> <td>8.34am</td> <td>1</td><td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>View non-match</a></td>
<!-- TO CHECK -->
<td>03484</td>  <td>04-02-2020</td> <td>9.30am</td> <td>73</td> <td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>View matched</a></td>


<tr>
<!-- TO PROCESS -->
<td>03380</td> <td><span class="nhsuk-tag nhsuk-tag--red nhsuk-u-margin-bottom-2">checker rejected</span></td> <td>04-02-2020</td> <td>1.20pm</td> <td>1</td><td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>Start matching</a></td>
<!-- TO QUERY -->
<td>03766</td> <td><span class="nhsuk-tag nhsuk-tag--red nhsuk-u-margin-bottom-2">file error</span></td> <td>04-02-2020</td> <td>9.15am</td> <td>-</td><td></td>
<!-- TO CHECK -->
<td>03485</td>  <td>04-02-2020</td> <td>10.50am</td> <td>35</td> <td><a class="nhsuk-button nhsuk-button--ers nhsuk-button--secondary" href=“./“>View matched</a></td> 


</table>
</div>
</div>
</div>
</div>
</div>

{% endblock %}
